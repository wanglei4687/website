---
title: 数据库分片介绍
date: '2022-07-12'
tags: ['shard-key', 'database']
draft: false
summary: 'Introduction database shard key'
canonicalUrl: https://github.com/wanglei4687/website/blob/main/data/blog/database/shard-key.mdx
---

<TOCInline toc={props.toc} asDisclosure />

分片主要是用于数据库的水平扩展

## 什么是分片

**分区**： 将一个表的行分成多个不同的表，称为分区。每个分区中保存的数据都是唯一的，并且独立于其他分区中保存的数据。

水平分区是将不同范围的行进行分离，垂直分区主要是将列分离（通过索引/主键）

![shardk01](/static/images/shardk/shardk01.png)

分片将一个数据分成多个小块，称为`逻辑分片`。然后将逻辑分片分布在不同的数据库节点上，称为`物理分片`，可以容纳多个逻辑分片。
所有分片中保存的数据代表了整个数据集。

数据库分片体现了无共享架构（shard-nothing），这意味着分片是自治的（不共享任何相同的数据或计算资源）。某些数据（类似汇率，转换率等）通过在不同的分片保留来
共享数据。

## 参考

- [understanding-database-sharding](https://www.digitalocean.com/community/tutorials/understanding-database-sharding)
